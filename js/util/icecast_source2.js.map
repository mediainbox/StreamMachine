{
  "version": 3,
  "file": "icecast_source2.js",
  "sourceRoot": "../../util/",
  "sources": [
    "icecast_source2.coffee"
  ],
  "names": [],
  "mappings": "AAAA,IAAA,aAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,IAAA,EAAA;;AAAA,aAAA,GAAgB,OAAA,CAAQ,0CAAR;;AAEhB,IAAA,GAAO,OAAA,CAAQ,MAAR;;AACP,EAAA,GAAK,OAAA,CAAQ,IAAR;;AAEL,IAAC,CAAA,IAAD,GAAQ,OAAA,CAAQ,OAAR,CACJ,CAAC,KADG,CACG,8EADH,CAEJ,CAAC,QAFG,CAGA;EAAA,IAAA,EAAY,QAAZ;EACA,IAAA,EAAY,oBADZ;EAEA,MAAA,EAAY,kBAFZ;EAGA,QAAA,EAAY,iBAHZ;EAIA,MAAA,EAAY;AAJZ,CAHA,CAQJ,CAAC,MARG,CAQI,CAAC,MAAD,EAAQ,MAAR,EAAe,QAAf,EAAwB,QAAxB,CARJ,CASJ,CAAC,KATG,CASG,QATH,EASY,QATZ,CAUJ,CAAC,OAVG,CAWA;EAAA,IAAA,EAAY,WAAZ;EACA,MAAA,EAAY;AADZ,CAXA,CAaJ,CAAC;;AAEL,sCAAU,CAAE,CAAF,WAAP,KAAe,QAAlB;EACI,IAAC,CAAA,IAAI,CAAC,CAAC,CAAC,KAAR,CAAA,EADJ;CApBA;;;AAyBA,QAAA,sCAAkB,CAAE,CAAF;;AAElB,IAAG,CAAC,QAAJ;EACI,OAAO,CAAC,KAAR,CAAc,0BAAd;EACA,OAAO,CAAC,IAAR,CAAa,CAAb,EAFJ;;;AAIA,QAAA,GAAW,IAAI,CAAC,OAAL,CAAa,QAAb;;AAEX,IAAG,CAAC,EAAE,CAAC,UAAH,CAAc,QAAd,CAAJ;EACI,OAAO,CAAC,KAAR,CAAc,iBAAd;EACA,OAAO,CAAC,IAAR,CAAa,CAAb,EAFJ;;;AAIA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,QAAxB,EArCA;;;AAyCA,MAAA,GAAS,IAAI,aAAJ,CACL;EAAA,MAAA,EAAY,IAAC,CAAA,IAAI,CAAC,MAAlB;EACA,QAAA,EAAY,QADZ;EAEA,IAAA,EAAY,IAAC,CAAA,IAAI,CAAC,IAFlB;EAGA,IAAA,EAAY,IAAC,CAAA,IAAI,CAAC,IAHlB;EAIA,MAAA,EAAY,IAAC,CAAA,IAAI,CAAC,MAJlB;EAKA,QAAA,EAAY,IAAC,CAAA,IAAI,CAAC;AALlB,CADK;;AAQT,MAAM,CAAC,EAAP,CAAU,YAAV,EAAwB,CAAA,CAAA,GAAA;SACpB,OAAO,CAAC,IAAR,CAAa,CAAb;AADoB,CAAxB;;AAGA,MAAM,CAAC,KAAP,CAAa,CAAC,GAAD,CAAA,GAAA;SACT,OAAO,CAAC,GAAR,CAAY,YAAZ;AADS,CAAb",
  "sourcesContent": [
    "IcecastSource = require \"../src/streammachine/util/icecast_source\"\r\n\r\npath = require \"path\"\r\nfs = require \"fs\"\r\n\r\n@args = require(\"yargs\")\r\n    .usage(\"Usage: $0 --host localhost --port 8001 --stream foo --password abc123 [file]\")\r\n    .describe\r\n        host:       \"Server\"\r\n        port:       \"Server source port\"\r\n        source:     \"Source Mount key\"\r\n        password:   \"Source password\"\r\n        format:     \"File Format (mp3 or aac)\"\r\n    .demand([\"host\",\"port\",\"source\",\"format\"])\r\n    .alias('stream','source')\r\n    .default\r\n        host:       \"127.0.0.1\"\r\n        format:     \"mp3\"\r\n    .argv\r\n\r\nif @args._?[0] == \"source\"\r\n    @args._.shift()\r\n\r\n# -- Make sure they gave us a file -- #\r\n\r\nfilepath = @args._?[0]\r\n\r\nif !filepath\r\n    console.error \"A file path is required.\"\r\n    process.exit(1)\r\n\r\nfilepath = path.resolve(filepath)\r\n\r\nif !fs.existsSync(filepath)\r\n    console.error \"File not found.\"\r\n    process.exit(1)\r\n\r\nconsole.log \"file is \", filepath\r\n\r\n# -- Start streaming -- #\r\n\r\nsource = new IcecastSource\r\n    format:     @args.format\r\n    filePath:   filepath\r\n    host:       @args.host\r\n    port:       @args.port\r\n    stream:     @args.stream\r\n    password:   @args.password\r\n\r\nsource.on \"disconnect\", =>\r\n    process.exit(1)\r\n\r\nsource.start (err) =>\r\n    console.log \"Streaming!\""
  ]
}