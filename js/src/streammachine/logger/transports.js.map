{
  "version": 3,
  "file": "transports.js",
  "sourceRoot": "../../../../src/streammachine/logger/",
  "sources": [
    "transports.coffee"
  ],
  "names": [],
  "mappings": "AAAA,IAAA,cAAA,EAAA,SAAA,EAAA,KAAA,EAAA,EAAA,EAAA;;AAAA,EAAA,GAAc,OAAA,CAAQ,IAAR;;AACd,IAAA,GAAc,OAAA,CAAQ,MAAR;;AACd,SAAA,GAAc,OAAA,CAAQ,mBAAR;;AACd,KAAA,GAAQ,OAAA,CAAQ,OAAR;;AAEF;EAAN,MAAA,eAAA,QAA6B,UAA7B;IAGI,WAAa,CAAC,IAAD,CAAA;WACT,CAAM,IAAN;MACA,IAAC,CAAA,SAAD,GAAa,OAAA,CAAQ,OAAR,CAAA,CAAiB,QAAjB;MACb,IAAC,CAAA,UAAD,GAAc,CAAA;IAHL;;IAKb,UAAY,CAAC,IAAD,CAAA;AAChB,UAAA,SAAA,EAAA,UAAA,EAAA,EAAA,EAAA;MAAQ,CAAA,CAAE,QAAF,EAAY,SAAZ,CAAA,GAA0B,IAA1B;MAEA,IAAI,CAAC,SAAL;AACI,eAAO,IAAC,CAAA,UADZ;;MAGA,UAAA,GAAa,KAAA,GAAQ,SAAR,GAAoB,CAAI,QAAH,GAAiB,CAAA,EAAA,CAAA,CAAK,QAAL,CAAA,CAAA,CAAjB,GAAuC,EAAxC;MACjC,EAAA,GAAK,IAAC,CAAA,UAAU,CAAC,UAAD;MAEhB,IAAI,CAAC,EAAL;QACI,EAAA,GAAK,KAAA,CAAM,UAAN;QACL,IAAC,CAAA,UAAU,CAAC,UAAD,CAAX,GAA0B,GAF9B;;AAIA,aAAO;IAbC;;IAeZ,GAAK,CAAC,IAAD,EAAO,QAAP,CAAA;AACT,UAAA;MAAQ,EAAA,GAAK,IAAC,CAAA,UAAD,CAAY,IAAZ;MACL,EAAA,CAAI,CAAA,CAAA,CAAA,CAAI,IAAI,CAAC,KAAT,CAAA,EAAA,CAAA,CAAmB,IAAI,CAAC,OAAxB,CAAA,CAAJ;aACA,QAAA,CAAS,IAAT,EAAe,IAAf;IAHC;;EAvBT;;2BACI,IAAA,GAAM;;;;;;AA4BV,MAAM,CAAC,OAAP,GACI;EAAA,cAAA,EAAgB;AAAhB",
  "sourcesContent": [
    "fs          = require \"fs\"\r\npath        = require \"path\"\r\nTransport   = require('winston-transport')\r\ndebug = require(\"debug\")\r\n\r\nclass DebugTransport extends Transport\r\n    name: \"debug\"\r\n\r\n    constructor: (opts) ->\r\n        super opts\r\n        @defaultFn = require(\"debug\")(\"sm:log\")\r\n        @debugFnMap = {}\r\n\r\n    getDebugFn: (info) ->\r\n        { workerId, component } = info\r\n\r\n        if (!component)\r\n            return @defaultFn\r\n\r\n        debugLabel = 'sm:' + component + (if workerId then \"(w#{workerId})\" else '')\r\n        fn = @debugFnMap[debugLabel]\r\n\r\n        if (!fn)\r\n            fn = debug(debugLabel)\r\n            @debugFnMap[debugLabel] = fn\r\n\r\n        return fn\r\n\r\n    log: (info, callback) ->\r\n        fn = @getDebugFn(info)\r\n        fn (\"[#{info.level}] #{info.message}\")\r\n        callback null, true\r\n\r\n\r\nmodule.exports =\r\n    DebugTransport: DebugTransport\r\n"
  ]
}