{
  "version": 3,
  "file": "stream_data_broadcaster.js",
  "sourceRoot": "../../../../src/streammachine/master/",
  "sources": [
    "stream_data_broadcaster.coffee"
  ],
  "names": [],
  "mappings": "AAAiD;AAAA,IAAA;;AAEjD,MAAM,CAAC,OAAP,GAAuB,wBAAN,MAAA,sBAAA,QAAoC,OAAA,CAAQ,QAAR,CAAiB,CAAC,aAAtD;EACb,WAAa,CAAC,IAAD,CAAA;SACT,CAAA;IAEA,IAAC,CAAA,GAAD,GAAO,IAAI,CAAC;IACZ,IAAC,CAAA,MAAD,GAAU,IAAI,CAAC;IACf,IAAC,CAAA,MAAD,GAAU,IAAI,CAAC;IAEf,IAAC,CAAA,QAAD,GAAY,CAAC,KAAD,CAAA,GAAA;aACR,IAAC,CAAA,MAAM,CAAC,MAAM,CAAC,cAAf,CAA8B,IAAC,CAAA,GAA/B,EAAoC,KAApC;IADQ;IAGZ,IAAC,CAAA,MAAM,CAAC,EAAR,CAAW,MAAX,EAAmB,IAAC,CAAA,QAApB;EAVS;;EAYb,OAAS,CAAA,CAAA;IACL,IAAC,CAAA,MAAM,CAAC,cAAR,CAAuB,MAAvB,EAA+B,IAAC,CAAA,QAAhC;IACA,IAAC,CAAA,MAAD,GAAU;IACV,IAAC,CAAA,IAAD,CAAM,SAAN;WAEA,IAAC,CAAA,kBAAD,CAAA;EALK;;AAbI",
  "sourcesContent": [
    "# broadcasts data from a stream to all the slaves\r\n\r\nmodule.exports = class StreamDataBroadcaster extends require(\"events\").EventEmitter\r\n    constructor: (opts) ->\r\n        super()\r\n\r\n        @key = opts.key\r\n        @stream = opts.stream\r\n        @master = opts.master\r\n\r\n        @dataFunc = (chunk) =>\r\n            @master.slaves.broadcastAudio @key, chunk\r\n\r\n        @stream.on \"data\", @dataFunc\r\n\r\n    destroy: ->\r\n        @stream.removeListener \"data\", @dataFunc\r\n        @stream = null\r\n        @emit \"destroy\"\r\n\r\n        @removeAllListeners()\r\n"
  ]
}